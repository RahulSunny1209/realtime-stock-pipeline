#!/bin/bash
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  PHASE 4 - CHECKPOINT 1: Infrastructure       â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ³ Docker Containers:"
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" | grep -E "NAME|postgres|redis|kafka"
echo ""
echo "ğŸ˜ PostgreSQL:"
docker exec postgres psql -U stockuser -d stockmarket -c "SELECT COUNT(*) FROM information_schema.tables WHERE table_schema='public';" 2>/dev/null && echo "   âœ… Database accessible" || echo "   âŒ Database not accessible"
echo ""
echo "ğŸ”´ Redis:"
docker exec redis redis-cli ping 2>/dev/null && echo "   âœ… Redis responsive" || echo "   âŒ Redis not responding"
echo ""
echo "ğŸ“ Configuration Files:"
[ -f config/db_config.py ] && echo "   âœ… db_config.py" || echo "   âŒ Missing"
[ -f scripts/init_db.sql ] && echo "   âœ… init_db.sql" || echo "   âŒ Missing"
echo ""
echo "âœ… Ready for Step 2: Spark â†’ PostgreSQL Integration"
